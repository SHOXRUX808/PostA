<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ–¥–∏–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        .post-form {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 450px;
        }

        h2 {
            text-align: center;
            margin-bottom: 20px;
            color: #2c3e50;
        }

        label {
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
        }

        input, textarea, button, select {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }

        textarea {
            resize: none;
        }

        button {
            background-color: #28a745;
            color: white;
            font-weight: bold;
            border: none;
            cursor: pointer;
        }

        button:hover {
            background-color: #218838;
        }

        .button-list {
            margin-bottom: 10px;
        }

        .button-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #f0f0f0;
            padding: 5px;
            border-radius: 4px;
            margin-bottom: 5px;
        }

        .button-item button {
            background-color: #dc3545;
            padding: 5px 10px;
            font-size: 12px;
        }

        .format-options {
            display: flex;
            gap: 10px;
        }
    </style>
</head>
<body>
    <div class="post-form">
        <h2>üì¢ –û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ–¥–∏–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º</h2>

        <!-- –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞ -->
        <label for="media">–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ –∏–ª–∏ –≤–∏–¥–µ–æ (–Ω–µ—Å–∫–æ–ª—å–∫–æ):</label>
        <input type="file" id="media" multiple accept="image/*,video/*">

        <!-- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ -->
        <label for="text">–¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞:</label>
        <textarea id="text" rows="4" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞"></textarea>

        <div class="format-options">
            <select id="font-family">
                <option value="Arial">Arial</option>
                <option value="Verdana">Verdana</option>
                <option value="Times New Roman">Times New Roman</option>
            </select>
            <input type="color" id="font-color" value="#000000">
            <button onclick="applyStyle('bold')">B</button>
            <button onclick="applyStyle('italic')"><i>I</i></button>
        </div>

        <!-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ -->
        <h3>–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏</h3>
        <label for="buttonName">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏:</label>
        <input type="text" id="buttonName" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏">

        <label for="buttonUrl">URL –∫–Ω–æ–ø–∫–∏:</label>
        <input type="text" id="buttonUrl" placeholder="–í–≤–µ–¥–∏—Ç–µ URL –∫–Ω–æ–ø–∫–∏">

        <button onclick="addButton()">–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É</button>

        <div class="button-list" id="buttonList"></div>

        <!-- –û—Ç–ø—Ä–∞–≤–∫–∞ -->
        <button onclick="sendPost()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ—Å—Ç</button>
    </div>

    <script>
        const botToken = "–í–ê–®_–¢–û–ö–ï–ù"; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
        const chatId = "–í–ê–®_CHAT_ID"; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à Chat ID

        let buttons = []; // –°–ø–∏—Å–æ–∫ –∫–Ω–æ–ø–æ–∫

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫
        function addButton() {
            const name = document.getElementById("buttonName").value;
            const url = document.getElementById("buttonUrl").value;

            if (name && url) {
                buttons.push({ text: name, url: url });
                updateButtonList();
                document.getElementById("buttonName").value = "";
                document.getElementById("buttonUrl").value = "";
            } else {
                alert("–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ URL –∫–Ω–æ–ø–∫–∏!");
            }
        }

        function updateButtonList() {
            const buttonList = document.getElementById("buttonList");
            buttonList.innerHTML = "";
            buttons.forEach((button, index) => {
                buttonList.innerHTML += `
                    <div class="button-item">
                        <span>üîó ${button.text} - ${button.url}</span>
                        <button onclick="removeButton(${index})">–£–¥–∞–ª–∏—Ç—å</button>
                    </div>
                `;
            });
        }

        function removeButton(index) {
            buttons.splice(index, 1);
            updateButtonList();
        }

        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π –∫ —Ç–µ–∫—Å—Ç—É
        function applyStyle(style) {
            const textarea = document.getElementById("text");
            const selection = textarea.value.substring(textarea.selectionStart, textarea.selectionEnd);

            if (!selection) return;

            let newText = "";
            if (style === "bold") newText = `**${selection}**`;
            if (style === "italic") newText = `_${selection}_`;

            textarea.setRangeText(newText);
        }

        // –û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ–¥–∏–∞ —Å —Ç–µ–∫—Å—Ç–æ–º –∏ –∫–Ω–æ–ø–∫–∞–º–∏
        function sendPost() {
            const text = document.getElementById("text").value;
            const files = document.getElementById("media").files;

            if (!files.length || !text) {
                alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–≥—Ä—É–∑–∏—Ç–µ –º–µ–¥–∏–∞—Ñ–∞–π–ª—ã –∏ –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç!");
                return;
            }

            const formData = new FormData();
            formData.append("chat_id", chatId);

            // –î–æ–±–∞–≤–ª—è–µ–º –º–µ–¥–∏–∞
            for (let i = 0; i < files.length; i++) {
                formData.append("media", files[i]);
            }

            formData.append("caption", text);

            // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏
            if (buttons.length > 0) {
                const replyMarkup = {
                    inline_keyboard: buttons.map(button => [{ text: button.text, url: button.url }])
                };
                formData.append("reply_markup", JSON.stringify(replyMarkup));
            }

            fetch(`https://api.telegram.org/bot${botToken}/sendMediaGroup`, {
                method: "POST",
                body: formData
            })
            .then(response => response.json())
            .then(result => {
                if (result.ok) {
                    alert("–ü–æ—Å—Ç —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!");
                } else {
                    alert("–û—à–∏–±–∫–∞: " + result.description);
                }
            })
            .catch(error => alert("–û—à–∏–±–∫–∞: " + error.message));
        }
    </script>
</body>
</html>